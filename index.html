<!DOCTYPE html>
<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" type="text/css" href="heroes.css">
</head>
 <body>

	<header></header>
	<section></section>
	<script>
		const header = document.querySelector('header');
		const section = document.querySelector('section');
		
		let requestURL = 'https://nirmalieo3.github.io/Data/db.json';
		let request = new XMLHttpRequest();
		request.open('GET', requestURL);
		request.responseType = 'json';
		request.send();
		request.onload = function() {
    const superHeroes = request.response;
    populateHeader(superHeroes);
    console.log(superHeroes)
    showHeroes(superHeroes);
   }
   function populateHeader(obj){
   	const myH1 = document.createElement('h1');
   	  myH1.textContent = obj['groupName'];
   	  header.appendChild(myH1);
   	  const myPara = document.createElement('p');
   	  myPara.textContent = 'Formed: ' + obj['formed'] + '// Publisher: ' + obj['publisher'];
   	  header.appendChild(myPara);
   }
  
   function showHeroes(obj) {
  const heroes = obj['members'];
      
  for (let i = 0; i < heroes.length; i++) {
    const myArticle = document.createElement('article');
    const myH2 = document.createElement('h2');
    const myPara1 = document.createElement('p');
    const myPara2 = document.createElement('p');
    const myPara3 = document.createElement('p');
    const myList = document.createElement('ul');

    myH2.textContent = heroes[i].superhero;
    myPara1.textContent = 'Actor: ' + heroes[i].actor;
    myPara2.textContent = 'Cameout: ' + heroes[i].cameout;
   var img = document.createElement('img');    // Create an <img> element.
    img.src = heroes[i].images
     var div = document.createElement('div');
     img.setAttribute('style', 'width: 330px; height: 230px; margin-left: 25px; box-shadow: 3px 3px 3px 3px black;');
     div.appendChild(img);
        //https://jsonformatter.org/json-editor/14ff2d
      //how to make a json API
     //https://medium.com/@victorscholz/hosting-a-json-api-on-github-pages-47b402f72603   
   
    myArticle.appendChild(myH2);
    myArticle.appendChild(myPara1);
    myArticle.appendChild(myPara2);
    myArticle.appendChild(div);
  
    section.appendChild(myArticle);
  }
}
	</script>
 
	</body>
</html>
